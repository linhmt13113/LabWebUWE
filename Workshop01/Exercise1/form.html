<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="form.css" />
    <title>Survey</title>
  </head>
  <body>
    <img src="./image/IUlogo.png" alt="logo" />
    <h1>Survey</h1>
    <p>
      If you have a moment, we'd appreciate it if you would fill out this survey
    </p>

    <h2>Your Information:</h2>
    <form id="surveyForm">
      <div class="form-info">
        <div class="form-group">
          <label for="firstName">First Name:</label>
          <input type="text" id="firstName" name="firstName" required />
        </div>
        <div class="form-group">
          <label for="lastName">Last Name:</label>
          <input type="text" id="lastName" name="lastName" required />
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required />
        </div>
        <div class="form-group">
          <label for="dateOfBirth">Date Of Birth:</label>
          <input type="text" id="dateOfBirth" name="dateOfBirth" required />
        </div>
      </div>

      <h2>How did you hear about us?</h2>
      <div class="check_container">
        <input
          type="radio"
          id="searchEngine"
          name="hearBy"
          value="searchEngine"
        />
        <label for="searchEngine">Search Engine</label>
        <input
          type="radio"
          id="wordOfMouth"
          name="hearBy"
          value="wordOfMouth"
        />
        <label for="wordOfMouth">Word of mouth</label>
        <input
          type="radio"
          id="socialMedia"
          name="hearBy"
          value="socialMedia"
        />
        <label for="socialMedia">Social Media</label>
        <input type="radio" id="other" name="hearBy" value="other" />
        <label for="other">Other</label>
      </div>

      <div class="receive-announcements">
        <label for="receiveAnnouncements">
          <h2>
            Would you like to receive announcements about new CDs and special
            offers?
          </h2>
        </label>
        <div class="check-box">
          <input
            type="checkbox"
            id="yesIdLikeThat"
            name="receiveAnnouncements"
            value="yesIdLikeThat"
          />
          <label for="yesIdLikeThat">YES, I'd like that.</label>
        </div>
        <div class="check-box">
          <input
            type="checkbox"
            id="yesPleaseSendEmail"
            name="receiveAnnouncements"
            value="yesPleaseSendEmail"
          />
          <label for="yesPleaseSendEmail"
            >YES, please send me email announcements.</label
          >
        </div>
      </div>

      <div class="contact-selection">
        <label for="contactSelection">Please contact me by:</label>
        <select class="select" id="contactSelection" name="contactSelection">
          <option value="emailOrPostalMail">Email or postal mail</option>
          <option value="emailOnly">Email only</option>
          <option value="postalMailOnly">Postal mail only</option>
        </select>
      </div>

      <button type="submit" class="button">Submit</button>
    </form>

    <div id="result" style="display: none; margin-top: 20px">
      <h2>Submitted Information:</h2>
      <p id="output"></p>
    </div>

    <script>
      document
        .getElementById('surveyForm')
        .addEventListener('submit', function (event) {
          event.preventDefault();

          const firstName = document.getElementById('firstName').value;
          const lastName = document.getElementById('lastName').value;
          const email = document.getElementById('email').value;
          const dateOfBirth = document.getElementById('dateOfBirth').value;
          const hearBy = document.querySelector('input[name="hearBy"]:checked')
            ? document.querySelector('input[name="hearBy"]:checked').value
            : 'Not specified';
          const receiveAnnouncements = [];
          if (document.getElementById('yesIdLikeThat').checked) {
            receiveAnnouncements.push("YES, I'd like that.");
          }
          if (document.getElementById('yesPleaseSendEmail').checked) {
            receiveAnnouncements.push(
              'YES, please send me email announcements.'
            );
          }
          const contactSelection =
            document.getElementById('contactSelection').value;

          // Tạo URL cho trang kết quả
          const resultUrl = `resultForm.html?firstName=${encodeURIComponent(
            firstName
          )}&lastName=${encodeURIComponent(
            lastName
          )}&email=${encodeURIComponent(
            email
          )}&dateOfBirth=${encodeURIComponent(
            dateOfBirth
          )}&hearBy=${encodeURIComponent(
            hearBy
          )}&receiveAnnouncements=${encodeURIComponent(
            receiveAnnouncements.join(', ')
          )}&contactSelection=${encodeURIComponent(contactSelection)}`;

          window.location.href = resultUrl;
        });
    </script>
  </body>
</html>
